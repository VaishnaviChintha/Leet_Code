import java.util.*;
public class Solution {
    public int equalPairs(int[][] grid) {
        List<String> row = new ArrayList<>();
         List<String> col = new ArrayList<>();
        for(int i=0;i<grid.length;i++){
            StringBuilder sb = new StringBuilder();
            StringBuilder bs = new StringBuilder();
            for(int j=0;j<grid[i].length;j++){
               sb.append(grid[i][j]).append(",");
               bs.append(grid[j][i]).append(",");

            } 
            col.add(bs.toString());
            row.add(sb.toString());
        }
        int count=0;
        for(int i=0;i<grid.length;i++){
            String r = row.get(i);
            for(int j=0;j<grid.length;j++){
                if(r.equals(col.get(j))){
                    count++;
                }
            }
        }
      return count;
    }
 public static void main(String[] args) {
        int[][] grid = {  {3, 2, 1},{1, 7, 6},{2, 7, 7}};
        Solution sol = new Solution();
        int result = sol.equalPairs(grid);
        System.out.println(result);
    }
}
