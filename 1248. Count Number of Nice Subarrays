import java.util.*;
public class Solution {
    public int numberOfSubarrays(int[] nums, int k) {
        return help(nums,k)-help(nums,k-1);
    }
    
    private static int help(int[] nums,int k){
        int left=0;
        int count=0;
        int odd_count=0;
        for(int right=0;right<nums.length;right++){
            if(nums[right]%2!=0){
               odd_count++;
            }
            while(odd_count>k){
                if(nums[left]%2!=0){
                    odd_count--;
                }
                left++;
            }
           count+=right-left+1;

        }
        return count;
    }
public static void main(String[] args) {
        int[] nums1 = {1, 1, 2, 1, 1};
        int k1 = 3;
        System.out.println(numberOfSubarrays(nums1, k1));
    }
}
