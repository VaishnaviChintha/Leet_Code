import java.util.*;
public class Solution {
    public int countCompleteSubarrays(int[] nums) {
        int distinct =0;
        Set<Integer> dist = new HashSet<>();
        for(int num : nums){
            dist.add(num);
        }
        distinct = dist.size();
        int left=0;
        int count=0;
        Map<Integer,Integer> freq = new HashMap<>();
        for(int right=0;right<nums.length;right++){
             freq.put(nums[right],freq.getOrDefault(nums[right],0)+1);
             while(freq.size()==distinct){
                count+=nums.length-right;
                if(freq.containsKey(nums[left])){
                    freq.put(nums[left],freq.get(nums[left])-1);
                    if(freq.get(nums[left])==0){
                        freq.remove(nums[left]);
                    }
                }
                left++;
               }
            }
        return count;
    }
 public static void main(String[] args) {
        int[] nums = {1, 3, 1, 2, 2};

        int result = countCompleteSubarrays(nums);
        System.out.println("Number of complete subarrays = " + result);
    }
}
